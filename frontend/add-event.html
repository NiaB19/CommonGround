<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Post a Community Event</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
:root {
  --bg:#f7f7fb; --card:#ffffff; --accent:#4f46e5; --accent-dark:#3730a3;
  --text:#111; --muted:#6b7280; --border:#d1d5db;
}
*{box-sizing:border-box}
body{margin:0;font-family:Inter,system-ui,-apple-system,sans-serif;background:var(--bg);color:var(--text);padding:20px;}
h1{font-size:1.6rem;color:var(--accent-dark);margin-bottom:1rem;}
form{max-width:640px;margin:0 auto;display:flex;flex-direction:column;gap:1rem;}
label{display:flex;flex-direction:column;font-size:0.9rem;color:#333;}
input[type=text],input[type=datetime-local],input[type=number],textarea,select{padding:8px;border:1px solid var(--border);border-radius:6px;font-size:1rem;margin-top:4px;}
textarea{resize:vertical;}
.checkbox-group,.radio-group,.vibe-group{display:flex;flex-wrap:wrap;gap:8px;}
.checkbox-group label,.radio-group label,.vibe-group label{flex:1 1 45%;display:flex;align-items:center;}
.checkbox-group input,.radio-group input{margin-right:6px;}
input[type=file]{margin-top:6px;}
.image-preview{max-width:100%;height:auto;border-radius:6px;margin-top:6px;}
button{padding:10px 16px;border:none;border-radius:8px;font-size:1rem;cursor:pointer;}
button.submit{background:var(--accent);color:#fff;}
button.reset{background:transparent;border:1px solid var(--muted);color:var(--muted);}
.form-footer{display:flex;justify-content:flex-end;gap:10px;}
@media(max-width:480px){.checkbox-group label,.radio-group label,.vibe-group label{flex:1 1 100%;}}
</style>
</head>
<body>

<h1>Post a Community Event</h1>

<form id="eventForm" novalidate>
  <label for="eventName">Event name<span aria-hidden="true" style="color:red">*</span>
    <input id="eventName" name="eventName" type="text" required>
  </label>

  <label for="host">Host / organization
    <input id="host" name="host" type="text">
  </label>

  <label for="linkedSpace">Linked Thirdspace
    <select id="linkedSpace" name="linkedSpace">
      <option value="">-- choose or start typing --</option>
      <!-- placeholder options; populate dynamically if you have data -->
      <option value="Cafe Commons">Cafe Commons</option>
      <option value="Riverside Park">Riverside Park</option>
    </select>
  </label>

  <div style="display:flex;gap:8px;flex-wrap:wrap;">
    <label for="startTime" style="flex:1 1 45%;">Start date/time<span aria-hidden="true" style="color:red">*</span>
      <input id="startTime" name="startTime" type="datetime-local" required>
    </label>
    <label for="endTime" style="flex:1 1 45%;">End date/time<span aria-hidden="true" style="color:red">*</span>
      <input id="endTime" name="endTime" type="datetime-local" required>
    </label>
  </div>

  <label for="frequency">Frequency
    <select id="frequency" name="frequency">
      <option value="one-time">One‑time</option>
      <option value="weekly">Weekly</option>
      <option value="monthly">Monthly</option>
    </select>
  </label>

  <div class="checkbox-group">
    <label><input type="checkbox" id="freeToggle" name="freeToggle" value="free"> Free event</label>
    <label><input type="number" id="cost" name="cost" min="0" placeholder="Ticket price" step="0.01"></label>
  </div>

  <fieldset>
    <legend>Event type</legend>
    <div class="radio-group">
      <label><input type="radio" name="type" value="study" checked> Study / co‑working</label>
      <label><input type="radio" name="type" value="arts"> Arts / music</label>
      <label><input type="radio" name="type" value="social"> Social / mixer</label>
      <label><input type="radio" name="type" value="workshop"> Workshop</label>
      <label><input type="radio" name="type" value="fitness"> Fitness</label>
    </div>
  </fieldset>

  <fieldset>
    <legend>Vibe</legend>
    <div class="vibe-group">
      <label><input type="checkbox" name="vibe" value="quiet"> Quiet</label>
      <label><input type="checkbox" name="vibe" value="high-energy"> High‑energy</label>
      <label><input type="checkbox" name="vibe" value="beginner-friendly"> Beginner‑friendly</label>
      <label><input type="checkbox" name="vibe" value="student-only"> Student‑only</label>
    </div>
  </fieldset>

  <label for="description">Description
    <textarea id="description" name="description" rows="4"></textarea>
  </label>

  <label for="cta">Call to action (URL)
    <input id="cta" name="cta" type="text" placeholder="RSVP link, Instagram post...">
  </label>

  <label for="imageUpload">Event image / flyer
    <input id="imageUpload" name="imageUpload" type="file" accept="image/*">
    <img id="imagePreview" class="image-preview" aria-hidden="true">
  </label>

  <div class="form-footer">
    <button type="reset" class="reset">Reset</button>
    <button type="submit" class="submit">Post event</button>
  </div>
</form>

<script>
const imageInput = document.getElementById('imageUpload');
const preview = document.getElementById('imagePreview');
imageInput.addEventListener('change', e => {
  const file = e.target.files[0];
  if (file) {
    preview.src = URL.createObjectURL(file);
    preview.style.display = 'block';
  } else {
    preview.src = '';
    preview.style.display = 'none';
  }
});

document.getElementById('eventForm').addEventListener('submit', function(e){
  e.preventDefault();
  const f = e.target;
  if (f.endTime.value && f.startTime.value && f.endTime.value <= f.startTime.value) {
    alert('End time must be after the start time.');
    return;
  }
  if (!f.checkValidity()) {
    f.reportValidity();
    return;
  }
  const data = {
    eventName: f.eventName.value.trim(),
    host: f.host.value.trim(),
    linkedSpace: f.linkedSpace.value,
    startTime: f.startTime.value,
    endTime: f.endTime.value,
    frequency: f.frequency.value,
    cost: f.freeToggle.checked ? 0 : parseFloat(f.cost.value) || 0,
    free: f.freeToggle.checked,
    type: f.type.value,
    vibe: Array.from(f.elements['vibe'])
             .filter(i=>i.checked).map(i=>i.value),
    description: f.description.value.trim(),
    cta: f.cta.value.trim(),
    imageFile: f.imageUpload.files[0]?.name || null,
    postedAt: new Date().toISOString()
  };
  console.log('event submission', JSON.stringify(data,null,2));
  alert('Event logged in console (ready for POST).');
  f.reset();
  preview.src = '';
  preview.style.display = 'none';
});
</script>

</body>
</html>