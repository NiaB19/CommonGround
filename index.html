<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CommonGround — Home</title>
    <style>
        :root{ --bg:#f7f7fb; --card:#ffffff; --accent:#4f46e5; --muted:#6b7280 }
        *{box-sizing:border-box}
        body{margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;background:var(--bg);color:#111}
        /* Navbar */
        .navbar{position:sticky;top:0;z-index:10;background:#fff;border-bottom:1px solid #e6e6f0;display:flex;align-items:center;justify-content:space-between;padding:12px 20px}
        .brand{display:flex;align-items:center;gap:12px}
        .brand .logo{width:36px;height:36px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#06b6d4)}
        .brand h1{font-size:16px;margin:0}
        .nav-actions{display:flex;align-items:center;gap:12px}
        .nav-tabs{display:flex;gap:10px;margin-left:18px}
        .nav-tabs a{color:#374151;text-decoration:none;padding:8px 12px;border-radius:8px;font-size:14px}
        .nav-tabs a:hover{background:#f3f4f6}
        .nav-tabs a.active{background:var(--accent);color:#fff}
        .login-btn{background:transparent;border:1px solid #e6e6f0;padding:6px 10px;border-radius:8px;cursor:pointer;color:#374151}
        .login-btn:hover{background:#f3f4f6}
        .icon-search{background:transparent;border:0;padding:6px;border-radius:8px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center}
        .icon-search svg{display:block}
        .search{display:flex;align-items:center;gap:8px;background:#f1f2fb;padding:6px 8px;border-radius:10px}
        .search input{border:0;background:transparent;outline:none;width:220px}
        .btn{background:var(--accent);color:#fff;padding:8px 12px;border-radius:8px;border:0;cursor:pointer}
        .profile-btn{display:flex;align-items:center;gap:8px;background:transparent;border:1px solid #e6e6f0;padding:6px 10px;border-radius:8px;cursor:pointer}

        /* Page layout */
        .container{max-width:1100px;margin:20px auto;padding:0 20px}
        .section{margin:20px 0}
        .section h2{margin:0 0 12px 0;font-size:18px}

        /* Horizontal card rows */
        .cards-row{display:flex;gap:16px;overflow-x:auto;padding-bottom:8px;padding-top:8px;scroll-snap-type:x mandatory}
        .cards-row::-webkit-scrollbar{height:10px}
        .cards-row::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:6px}
        .card{flex:0 0 260px;background:var(--card);border-radius:12px;padding:14px;box-shadow:0 6px 18px rgba(15,23,42,0.06);scroll-snap-align:start}
        .card .thumb{height:120px;border-radius:10px;background:linear-gradient(135deg,#a78bfa,#60a5fa);display:flex;align-items:flex-end;color:#fff;padding:12px;font-weight:700}
        .card h3{margin:10px 0 6px;font-size:16px}
        .card p{margin:0;color:var(--muted);font-size:13px}

        /* Responsive */
        @media (max-width:640px){.search input{width:120px}.card{flex:0 0 200px}}
    </style>
    <script>
        function onSearch(e){e.preventDefault();const q=document.getElementById('q').value.trim();console.log('Search for',q);}
    </script>
    </style>
    <script>
        function onSearch(e){e.preventDefault();const q=document.getElementById('q').value.trim();console.log('Search for',q);}
        function focusSearch(){const el=document.getElementById('q');if(el){el.focus();el.scrollIntoView({behavior:'smooth',block:'center'})}}
    </script>
</head>
<body>
    <nav class="navbar">
        <div style="display:flex;align-items:center;">
            <div class="brand">
                <div class="logo" aria-hidden="true"></div>
                <h1>CommonGround</h1>
            </div>
            <div class="nav-tabs" role="tablist" aria-label="Main tabs">
                <a href="#home" class="active" role="tab">Home</a>
                <a href="#thirdspaces" role="tab">Thirdspaces</a>
                <a href="#events" role="tab">Events</a>
                <a href="#about" role="tab">About</a>
            </div>
        </div>
        <div class="nav-actions">
            <button class="icon-search" aria-label="Open search" onclick="focusSearch()">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M21 21l-4.35-4.35" stroke="#6b7280" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <circle cx="11" cy="11" r="6" stroke="#6b7280" stroke-width="1.5" fill="none"/>
                </svg>
            </button>
            <form class="search" onsubmit="onSearch(event)">
                <input id="q" type="search" placeholder="Search thirdspaces or events" aria-label="Search">
                <button class="btn" type="submit">Search</button>
            </form>
            <a href="login.html"><button class="login-btn">Login</button></a>
            <a href="profile.html"><button class="profile-btn">Profile</button></a>
        </div>
    </nav>

    <main class="container" id="home">
        <section class="section">
            <h2>Thirdspaces Near Me</h2>
            <div class="cards-row" role="list">
                <article class="card" role="listitem">
                    <div class="thumb">Cafe Commons</div>
                    <h3>Cozy Cafe</h3>
                    <p>Open now • Free Wi‑Fi • 0.4 mi</p>
                </article>
                <article class="card" role="listitem">
                    <div class="thumb">Library Hub</div>
                    <h3>Community Library</h3>
                    <p>Study spaces • Events • 0.7 mi</p>
                </article>
                <article class="card" role="listitem">
                    <div class="thumb">Park Table</div>
                    <h3>Riverside Park</h3>
                    <p>Outdoor seating • Dog friendly • 1.2 mi</p>
                </article>
                <article class="card" role="listitem">
                    <div class="thumb">Studio</div>
                    <h3>Makerspace</h3>
                    <p>Workshops • Tools • 1.5 mi</p>
                </article>
            </div>
        </section>

        <section class="section">
            <h2>Events Near Me</h2>
            <div class="cards-row" role="list">
                <article class="card" role="listitem">
                    <div class="thumb">Music</div>
                    <h3>Open Mic Night</h3>
                    <p>Tonight • 7:30 PM • 0.6 mi</p>
                </article>
                <article class="card" role="listitem">
                    <div class="thumb">Market</div>
                    <h3>Farmers Market</h3>
                    <p>Sat • Fresh produce • 1.1 mi</p>
                </article>
                <article class="card" role="listitem">
                    <div class="thumb">Talk</div>
                    <h3>Design Meetup</h3>
                    <p>Wed • Networking • 0.9 mi</p>
                </article>
                <article class="card" role="listitem">
                    <div class="thumb">Kids</div>
                    <h3>Outdoor Yoga</h3>
                    <p>Sun • Free • 2.0 mi</p>
                </article>
            </div>
        </section>
    </main>

    <style>
        /* Chatbot floating button + window */
        .chatbot{position:fixed;right:20px;bottom:20px;width:56px;height:56px;border-radius:999px;background:var(--accent);display:inline-flex;align-items:center;justify-content:center;color:#fff;box-shadow:0 8px 24px rgba(79,70,229,0.18);border:0;cursor:pointer;z-index:60}
        .chatbot svg{display:block}
        .chat-window{position:fixed;right:20px;bottom:90px;width:340px;height:420px;background:#fff;border-radius:12px;box-shadow:0 12px 40px rgba(2,6,23,0.12);overflow:hidden;z-index:70;border:1px solid #e6e6f0;display:flex;flex-direction:column}
        .chat-window header{padding:10px 12px;border-bottom:1px solid #eef2ff;display:flex;align-items:center;justify-content:space-between;background:linear-gradient(90deg, rgba(79,70,229,0.06), rgba(6,182,212,0.03))}
        .chat-window .messages{flex:1;padding:12px;overflow:auto;background:#fbfbfe}
        .chat-window .msg{margin:8px 0;max-width:80%;padding:8px 10px;border-radius:10px;font-size:14px}
        .chat-window .msg.user{background:#e6eefc;margin-left:auto}
        .chat-window .msg.assistant{background:#f3f4f6;margin-right:auto}
        .chat-window footer{padding:8px;border-top:1px solid #f1f5f9;display:flex;gap:8px}
        .chat-window input{flex:1;padding:8px;border:1px solid #e6e6f0;border-radius:8px;outline:none}
        .chat-close{background:transparent;border:0;cursor:pointer;color:#374151;font-size:16px}
    </style>

    <!-- Chatbot UI -->
    <button class="chatbot" id="chatbotBtn" aria-label="Open chat">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>

    <div class="chat-window" id="chatWindow" style="display:none" role="region" aria-label="Chatbot window">
        <header>
            <strong>Assistant</strong>
            <button class="chat-close" id="chatClose" aria-label="Close chat">✕</button>
        </header>
        <div class="messages" id="chatMessages"></div>
        <footer>
            <input id="chatInput" type="text" placeholder="Ask me anything..." aria-label="Chat input">
            <button id="chatSend" class="btn">Send</button>
        </footer>
    </div>

    <script>
        (function(){
            const btn=document.getElementById('chatbotBtn');
            const win=document.getElementById('chatWindow');
            const closeBtn=document.getElementById('chatClose');
            const send=document.getElementById('chatSend');
            const input=document.getElementById('chatInput');
            const msgs=document.getElementById('chatMessages');

            function appendMessage(text, who){
                const d=document.createElement('div');
                d.className='msg '+who;
                d.textContent=text;
                msgs.appendChild(d);
                msgs.scrollTop = msgs.scrollHeight;
            }

            function simulateReply(userText){
                const typing = document.createElement('div');
                typing.className='msg assistant';
                typing.textContent='Typing...';
                msgs.appendChild(typing);
                msgs.scrollTop = msgs.scrollHeight;
                setTimeout(()=>{
                    msgs.removeChild(typing);
                    // Simple simulated AI response — replace with real API call if available
                    const reply = 'AI: ' + (userText || 'Hi — how can I help?');
                    appendMessage(reply, 'assistant');
                }, 900 + Math.random()*700);
            }

            btn.addEventListener('click', ()=>{ win.style.display = (win.style.display === 'none') ? 'flex' : 'none'; if(win.style.display!=='none'){ input.focus(); }});
            closeBtn.addEventListener('click', ()=>{ win.style.display='none'; });

            send.addEventListener('click', ()=>{
                const v=input.value.trim(); if(!v) return; appendMessage(v,'user'); input.value=''; simulateReply(v);
            });
            input.addEventListener('keydown',(e)=>{ if(e.key==='Enter'){ e.preventDefault(); send.click(); }});

            // welcome message
            appendMessage('Hello — I am your assistant. Ask me about nearby thirdspaces or events.', 'assistant');
        })();
    </script>

</body>
</html>